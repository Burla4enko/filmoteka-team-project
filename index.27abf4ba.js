function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o);var r=o("eOWLO");var i=e(o("1Gatq")).template({1:function(e,t,n,a,o){var r,i,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",u=e.escapeExpression,p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li class='films__item' data-id=\""+u(typeof(i=null!=(i=p(n,"id")||(null!=t?p(t,"id"):t))?i:s)===c?i.call(l,{name:"id",hash:{},data:o,loc:{start:{line:2,column:33},end:{line:2,column:39}}}):i)+"\">\n    <div class='films__img'>\n"+(null!=(r=p(n,"if").call(l,null!=t?p(t,"poster_path"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o,loc:{start:{line:4,column:8},end:{line:9,column:15}}}))?r:"")+"    </div>\n    <div class='films__description'>\n        <p class='films__title'>"+u(typeof(i=null!=(i=p(n,"title")||(null!=t?p(t,"title"):t))?i:s)===c?i.call(l,{name:"title",hash:{},data:o,loc:{start:{line:12,column:32},end:{line:12,column:41}}}):i)+"</p>\n        <p class='films__meta'>\n            <span class=\"films__genre\">\n                "+u(typeof(i=null!=(i=p(n,"genre_ids")||(null!=t?p(t,"genre_ids"):t))?i:s)===c?i.call(l,{name:"genre_ids",hash:{},data:o,loc:{start:{line:15,column:16},end:{line:15,column:29}}}):i)+'\n            </span>\n            <span class="films__date">'+u(typeof(i=null!=(i=p(n,"release_date")||(null!=t?p(t,"release_date"):t))?i:s)===c?i.call(l,{name:"release_date",hash:{},data:o,loc:{start:{line:17,column:38},end:{line:17,column:54}}}):i)+"</span>\n        </p>\n    </div>\n</li>\n"},2:function(e,t,n,a,o){var r,i=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <img src='https://image.tmdb.org/t/p/w342"+c(typeof(r=null!=(r=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?r:l)===s?r.call(i,{name:"poster_path",hash:{},data:o,loc:{start:{line:5,column:49},end:{line:5,column:64}}}):r)+"' alt='Film \""+c(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:l)===s?r.call(i,{name:"title",hash:{},data:o,loc:{start:{line:5,column:77},end:{line:5,column:86}}}):r)+"\" poster' loading='lazy' />\n"},4:function(e,t,n,a,o){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <img src='https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg' alt='Film \""+e.escapeExpression("function"==typeof(r=null!=(r=i(n,"title")||(null!=t?i(t,"title"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:7,column:93},end:{line:7,column:102}}}):r)+"\" poster'\n            loading='lazy' />\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var r;return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:21,column:9}}}))?r:""},useData:!0}),l=o("4lfWO"),s=o("6yebf");const c={container:document.querySelector(".films"),pagination:document.querySelector(".pagination"),guard:document.querySelector(".guard")},u=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&(p+=1,f())}))}),{root:null,rootMargin:"30%",treshhold:0});let p=1,d=null;async function f(){d=await(await(0,r.getMovies)("trending/movie/day",p)).data,c.container.insertAdjacentHTML("beforeend",i(d.results)),(0,s.makeYears)(".films__date",p),(0,l.makeGenres)(".films__genre",p)}r=o("eOWLO");var m=e(o("1Gatq")).template({1:function(e,t,n,a,o){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=i(n,"if").call(null!=t?t:e.nullContext||{},null!=t?i(t,"dots"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o,loc:{start:{line:2,column:0},end:{line:7,column:7}}}))?r:""},2:function(e,t,n,a,o){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <li class="pagination__item pagination__item--dots">'+e.escapeExpression("function"==typeof(r=null!=(r=i(n,"page")||(null!=t?i(t,"page"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"page",hash:{},data:o,loc:{start:{line:2,column:65},end:{line:2,column:73}}}):r)+"</li>\n"},4:function(e,t,n,a,o){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=i(n,"if").call(null!=t?t:e.nullContext||{},null!=t?i(t,"current"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:3,column:0},end:{line:7,column:0}}}))?r:""},5:function(e,t,n,a,o){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="pagination__item pagination__item--current">'+e.escapeExpression("function"==typeof(r=null!=(r=i(n,"page")||(null!=t?i(t,"page"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"page",hash:{},data:o,loc:{start:{line:4,column:55},end:{line:4,column:63}}}):r)+"</li>\n"},7:function(e,t,n,a,o){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="pagination__item"><button type="button" class="pagination__btn pagination__btn--page">'+e.escapeExpression("function"==typeof(r=null!=(r=i(n,"page")||(null!=t?i(t,"page"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"page",hash:{},data:o,loc:{start:{line:6,column:97},end:{line:6,column:105}}}):r)+"</button></li> \n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var r;return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:8,column:9}}}))?r:""},useData:!0});const g={pagination:document.querySelector(".pagination"),pagesContainer:document.querySelector(".pagination__pages")};function h(e,t){1!==t?(g.pagination.classList.remove("visual-hidden"),g.pagesContainer.innerHTML=m(((e,t,n=2)=>{const a=e-n,o=e+n,r=[],i=[];let l=null;for(let e=1;e<=t;e+=1)if(1===e||e===t||e>=a&&e<=o)r.push(e);else if(e<a)e=a-1;else if(e>o){r.push(t);break}return r.forEach((t=>{l&&t-l!=1&&i.push({page:"...",current:!1,dots:!0}),t===e?i.push({page:t,current:!0,dots:!1}):i.push({page:t,current:!1,dots:!1}),l=t})),i})(e,t)),function(e,t){const n={left:document.querySelector(".pagination__btn--left"),right:document.querySelector(".pagination__btn--right")};!0!==n.left.disabled&&!0!==n.right.disabled||(n.left.disabled=!1,n.right.disabled=!1);if(1===e)return void(n.left.disabled=!0);if(e===t)n.right.disabled=!0}(e,t)):g.pagination.classList.add("visual-hidden")}function y({current:e,pages:t}){h(e,t),g.pagination.addEventListener("click",(n=>{n.target.classList.contains("pagination__btn")&&(n.target.classList.contains("pagination__btn--page")?h(e=+n.target.textContent,t):n.target.classList.contains("pagination__btn--left")?h(e-=1,t):n.target.classList.contains("pagination__btn--right")&&h(e+=1,t))}))}r=o("eOWLO");var v=o("d7EE2");function b(e,t){return e.classList.contains("pagination__btn--page")?+e.textContent:e.classList.contains("pagination__btn--left")?t-1:!!e.classList.contains("pagination__btn--right")&&t+1}r=o("eOWLO"),l=o("4lfWO"),s=o("6yebf");const _={container:document.querySelector(".films"),pagination:document.querySelector(".pagination"),guard:document.querySelector(".guard")},w=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&(O+=1,L())}))}),{root:null,rootMargin:"30%",treshhold:0});let O=1;async function k(e){await L(),e>1&&w.observe(_.guard)}async function L(){1===O&&(_.container.innerHTML="");const e=await(await(0,r.getMovies)("/search/movie",O,P)).data;if(_.container.insertAdjacentHTML("beforeend",i(e.results)),O>1)return(0,s.makeYears)(".films__date",O),void(0,l.makeGenres)(".films__genre",O);(0,s.makeYears)(".films__date"),(0,l.makeGenres)(".films__genre")}var S=o("eWCmQ");function x(){const e={spinner:document.querySelector("[data-slider]"),body:document.querySelector("body")};e.spinner.classList.toggle("is-hidden"),e.body.classList.toggle("no-scrool")}function q(e){const t=document.querySelector(".header--main");if(e.toLowerCase().includes("ukrain"))if(screen.width<768){const e="url(https://i.scdn.co/image/ab67616d0000b273440d6349d46e9b3b1febda98)";t.style.backgroundImage=e,t.style.backgroundPosition="left bottom 45%"}else if(screen.width<1280){const e="linear-gradient(rgb(229 175 25/90%) 2%, rgb(229 175 25 / 75%) 12%, transparent 70%), url(https://www.shutterstock.com/image-photo/sunflower-blue-heart-shaped-center-600w-2018098397.jpg)";t.style.backgroundImage=e,t.style.backgroundPosition="bottom 7% left"}else{const e="url(https://www.shutterstock.com/image-photo/sunflower-blue-heart-shaped-center-600w-2018098397.jpg)";t.style.backgroundImage=e,t.style.backgroundPosition="bottom 15% left"}else t.removeAttribute("style")}screen.width<768?e(S).Notify.init({width:"280px",position:"center",distance:"20px"}):e(S).Notify.init({position:"center-top",distance:"150px"});const M={searchInput:document.querySelector('[name="searchQuery"]'),searchBtn:document.querySelector(".submit-btn"),container:document.querySelector(".films"),pagination:document.querySelector(".pagination")};let j=1,E=1,P="";function C(e){b(e.target,j)&&(j=b(e.target,j),async function(){const e=await(0,r.getMovies)("/search/movie",j,P),t=await e.data.results;(0,v.createMarkup)(t,j),document.querySelector(".films").scrollIntoView({behavior:"smooth",block:"start"})}())}l=o("4lfWO"),s=o("6yebf");const T={container:document.querySelector(".films"),pagination:document.querySelector(".pagination")};let I=1,N=null;function W(e){b(e.target,I)&&(I=b(e.target,I),H(),document.querySelector(".films").scrollIntoView({behavior:"smooth",block:"start"}))}async function H(){N=await(await(0,r.getMovies)("trending/movie/day",I)).data,T.container.innerHTML=i(N.results),(0,l.makeGenres)(".films__genre"),(0,s.makeYears)(".films__date")}const D=document.querySelector(".submit-btn");var F,G=/^\s+|\s+$/g,Q=/^[-+]0x[0-9a-f]+$/i,Y=/^0b[01]+$/i,A=/^0o[0-7]+$/i,z=parseInt,B="object"==typeof t&&t&&t.Object===Object&&t,R="object"==typeof self&&self&&self.Object===Object&&self,U=B||R||Function("return this")(),V=Object.prototype.toString,J=Math.max,X=Math.min,K=function(){return U.Date.now()};function Z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ee(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==V.call(e)}(e))return NaN;if(Z(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Z(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(G,"");var n=Y.test(e);return n||A.test(e)?z(e.slice(2),n?2:8):Q.test(e)?NaN:+e}F=function(e,t,n){var a,o,r,i,l,s,c=0,u=!1,p=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=a,r=o;return a=o=void 0,c=t,i=e.apply(r,n)}function m(e){return c=e,l=setTimeout(h,t),u?f(e):i}function g(e){var n=e-s;return void 0===s||n>=t||n<0||p&&e-c>=r}function h(){var e=K();if(g(e))return y(e);l=setTimeout(h,function(e){var n=t-(e-s);return p?X(n,r-(e-c)):n}(e))}function y(e){return l=void 0,d&&a?f(e):(a=o=void 0,i)}function v(){var e=K(),n=g(e);if(a=arguments,o=this,s=e,n){if(void 0===l)return m(s);if(p)return l=setTimeout(h,t),f(s)}return void 0===l&&(l=setTimeout(h,t)),i}return t=ee(t)||0,Z(n)&&(u=!!n.leading,r=(p="maxWait"in n)?J(ee(n.maxWait)||0,t):r,d="trailing"in n?!!n.trailing:d),v.cancel=function(){void 0!==l&&clearTimeout(l),c=0,a=s=o=l=void 0},v.flush=function(){return void 0===l?i:y(K())},v};var te=o("9X2PO");r=o("eOWLO");$(".carousel").slick({dots:!0,arrows:!1,speed:1e3,easing:"ease",autoplay:!0,autoplaySpeed:5e3,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0});const ne={searchForm:document.querySelector("#search-form"),searchInput:document.querySelector('[name="searchQuery"]'),films:document.querySelector(".films")};!async function(){const e=await(await(0,r.getMovies)("genre/movie/list")).data.genres;localStorage.setItem("genres",JSON.stringify(e))}(),screen.width<768?async function(){await f(),u.observe(c.guard)}():async function(){x(),await H(),N.total_pages>1&&(y({current:1,pages:N.total_pages}),T.pagination.removeEventListener("click",C),T.pagination.addEventListener("click",W)),x()}(),ne.searchInput.addEventListener("input",e(F)((function(){this.value.trim()?D.disabled=!1:D.disabled=!0}),300)),ne.searchForm.addEventListener("submit",(async function(t){t.preventDefault(),u.unobserve(document.querySelector(".guard")),P=t.currentTarget.elements.searchQuery.value,q(P),M.container.innerHTML="",M.searchInput.value="",M.searchBtn.disabled=!0,j=1;try{x();const t=await(0,r.getMovies)("/search/movie",j,P),n=await t.data.results;if((0,v.createMarkup)(n,j),!n.length)return M.pagination.classList.add("visual-hidden"),x(),e(S).Notify.failure("Search result not successful. Enter the correct movie name and try againe.");e(S).Notify.success(`Hooray! We found ${t.data.total_results} movies.`),t.data.total_pages>1?(E=t.data.total_pages,screen.width<768?k(E):(y({current:1,pages:E}),M.pagination.removeEventListener("click",W),M.pagination.addEventListener("click",C))):M.pagination.classList.add("visual-hidden"),x()}catch(t){e(S).Notify.failure(`Something is wrong. ${t.message}`)}})),ne.films.addEventListener("click",te.onMovieCardClick);
//# sourceMappingURL=index.27abf4ba.js.map
