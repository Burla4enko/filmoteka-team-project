!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o);var i=o("6EpDH");var r=e(o("7jKnM")).template({1:function(e,t,n,a,o){var i,r,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",u=e.escapeExpression,p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li class='films__item' data-id=\""+u(typeof(r=null!=(r=p(n,"id")||(null!=t?p(t,"id"):t))?r:s)===c?r.call(l,{name:"id",hash:{},data:o,loc:{start:{line:2,column:33},end:{line:2,column:39}}}):r)+"\">\n    <div class='films__img'>\n"+(null!=(i=p(n,"if").call(l,null!=t?p(t,"poster_path"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o,loc:{start:{line:4,column:8},end:{line:9,column:15}}}))?i:"")+"    </div>\n    <div class='films__description'>\n        <p class='films__title'>"+u(typeof(r=null!=(r=p(n,"title")||(null!=t?p(t,"title"):t))?r:s)===c?r.call(l,{name:"title",hash:{},data:o,loc:{start:{line:12,column:32},end:{line:12,column:41}}}):r)+"</p>\n        <p class='films__meta'>\n            <span class=\"films__genre\">\n                "+u(typeof(r=null!=(r=p(n,"genre_ids")||(null!=t?p(t,"genre_ids"):t))?r:s)===c?r.call(l,{name:"genre_ids",hash:{},data:o,loc:{start:{line:15,column:16},end:{line:15,column:29}}}):r)+'\n            </span>\n            <span class="films__date">'+u(typeof(r=null!=(r=p(n,"release_date")||(null!=t?p(t,"release_date"):t))?r:s)===c?r.call(l,{name:"release_date",hash:{},data:o,loc:{start:{line:17,column:38},end:{line:17,column:54}}}):r)+"</span>\n        </p>\n    </div>\n</li>\n"},2:function(e,t,n,a,o){var i,r=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <img src='https://image.tmdb.org/t/p/w342"+c(typeof(i=null!=(i=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?i:l)===s?i.call(r,{name:"poster_path",hash:{},data:o,loc:{start:{line:5,column:49},end:{line:5,column:64}}}):i)+"' alt='Film \""+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:l)===s?i.call(r,{name:"title",hash:{},data:o,loc:{start:{line:5,column:77},end:{line:5,column:86}}}):i)+"\" poster' loading='lazy' />\n"},4:function(e,t,n,a,o){var i,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <img src='https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg' alt='Film \""+e.escapeExpression("function"==typeof(i=null!=(i=r(n,"title")||(null!=t?r(t,"title"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:7,column:93},end:{line:7,column:102}}}):i)+"\" poster'\n            loading='lazy' />\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:21,column:9}}}))?i:""},useData:!0}),l=o("1LQqF"),s=o("8HLHc");const c={container:document.querySelector(".films"),pagination:document.querySelector(".pagination"),guard:document.querySelector(".guard")},u=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&(p+=1,f())}))}),{root:null,rootMargin:"30%",treshhold:0});let p=1,d=null;async function f(){d=await(await(0,i.getMovies)("trending/movie/day",p)).data,c.container.insertAdjacentHTML("beforeend",r(d.results)),(0,s.makeYears)(".films__date",p),(0,l.makeGenres)(".films__genre",p)}i=o("6EpDH");var m=e(o("7jKnM")).template({1:function(e,t,n,a,o){var i,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=r(n,"if").call(null!=t?t:e.nullContext||{},null!=t?r(t,"dots"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o,loc:{start:{line:2,column:0},end:{line:7,column:7}}}))?i:""},2:function(e,t,n,a,o){var i,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <li class="pagination__item pagination__item--dots">'+e.escapeExpression("function"==typeof(i=null!=(i=r(n,"page")||(null!=t?r(t,"page"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"page",hash:{},data:o,loc:{start:{line:2,column:65},end:{line:2,column:73}}}):i)+"</li>\n"},4:function(e,t,n,a,o){var i,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=r(n,"if").call(null!=t?t:e.nullContext||{},null!=t?r(t,"current"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:3,column:0},end:{line:7,column:0}}}))?i:""},5:function(e,t,n,a,o){var i,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="pagination__item pagination__item--current">'+e.escapeExpression("function"==typeof(i=null!=(i=r(n,"page")||(null!=t?r(t,"page"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"page",hash:{},data:o,loc:{start:{line:4,column:55},end:{line:4,column:63}}}):i)+"</li>\n"},7:function(e,t,n,a,o){var i,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="pagination__item"><button type="button" class="pagination__btn pagination__btn--page">'+e.escapeExpression("function"==typeof(i=null!=(i=r(n,"page")||(null!=t?r(t,"page"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"page",hash:{},data:o,loc:{start:{line:6,column:97},end:{line:6,column:105}}}):i)+"</button></li> \n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:8,column:9}}}))?i:""},useData:!0});const g={pagination:document.querySelector(".pagination"),pagesContainer:document.querySelector(".pagination__pages")};function h(e,t){1!==t?(g.pagination.classList.remove("visual-hidden"),g.pagesContainer.innerHTML=m(((e,t,n=2)=>{const a=e-n,o=e+n,i=[],r=[];let l=null;for(let e=1;e<=t;e+=1)if(1===e||e===t||e>=a&&e<=o)i.push(e);else if(e<a)e=a-1;else if(e>o){i.push(t);break}return i.forEach((t=>{l&&t-l!=1&&r.push({page:"...",current:!1,dots:!0}),t===e?r.push({page:t,current:!0,dots:!1}):r.push({page:t,current:!1,dots:!1}),l=t})),r})(e,t)),function(e,t){const n={left:document.querySelector(".pagination__btn--left"),right:document.querySelector(".pagination__btn--right")};!0!==n.left.disabled&&!0!==n.right.disabled||(n.left.disabled=!1,n.right.disabled=!1);if(1===e)return void(n.left.disabled=!0);if(e===t)n.right.disabled=!0}(e,t)):g.pagination.classList.add("visual-hidden")}function y({current:e,pages:t}){h(e,t),g.pagination.addEventListener("click",(n=>{n.target.classList.contains("pagination__btn")&&(n.target.classList.contains("pagination__btn--page")?h(e=+n.target.textContent,t):n.target.classList.contains("pagination__btn--left")?h(e-=1,t):n.target.classList.contains("pagination__btn--right")&&h(e+=1,t))}))}i=o("6EpDH");var v=o("ks9fz");function b(e,t){return e.classList.contains("pagination__btn--page")?+e.textContent:e.classList.contains("pagination__btn--left")?t-1:!!e.classList.contains("pagination__btn--right")&&t+1}i=o("6EpDH"),l=o("1LQqF"),s=o("8HLHc");const _={container:document.querySelector(".films"),pagination:document.querySelector(".pagination"),guard:document.querySelector(".guard")},w=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&(k+=1,L())}))}),{root:null,rootMargin:"30%",treshhold:0});let k=1;async function O(e){await L(),e>1&&w.observe(_.guard)}async function L(){1===k&&(_.container.innerHTML="");const e=await(await(0,i.getMovies)("/search/movie",k,H)).data;if(_.container.insertAdjacentHTML("beforeend",r(e.results)),k>1)return(0,s.makeYears)(".films__date",k),void(0,l.makeGenres)(".films__genre",k);(0,s.makeYears)(".films__date"),(0,l.makeGenres)(".films__genre")}var S=o("iU1Pc");function q(){const e={spinner:document.querySelector("[data-slider]"),body:document.querySelector("body")};e.spinner.classList.toggle("is-hidden"),e.body.classList.toggle("no-scrool")}function x(e){const t=document.querySelector(".header--main");if(e.toLowerCase().includes("ukrain"))if(screen.width<768){const e="url(https://i.scdn.co/image/ab67616d0000b273440d6349d46e9b3b1febda98)";t.style.backgroundImage=e,t.style.backgroundPosition="left bottom 45%"}else if(screen.width<1280){const e="linear-gradient(rgb(229 175 25/90%) 2%, rgb(229 175 25 / 75%) 12%, transparent 70%), url(https://www.shutterstock.com/image-photo/sunflower-blue-heart-shaped-center-600w-2018098397.jpg)";t.style.backgroundImage=e,t.style.backgroundPosition="bottom 7% left"}else{const e="url(https://www.shutterstock.com/image-photo/sunflower-blue-heart-shaped-center-600w-2018098397.jpg)";t.style.backgroundImage=e,t.style.backgroundPosition="bottom 15% left"}else t.removeAttribute("style")}screen.width<768?e(S).Notify.init({width:"280px",position:"center",distance:"20px"}):e(S).Notify.init({position:"center-top",distance:"150px"});const M={searchInput:document.querySelector('[name="searchQuery"]'),searchBtn:document.querySelector(".submit-btn"),container:document.querySelector(".films"),pagination:document.querySelector(".pagination")},j="/search/movie";let E=1,P=1,H="";function C(e){b(e.target,E)&&(E=b(e.target,E),async function(){const e=await(0,i.getMovies)(j,E,H),t=await e.data.results;(0,v.createMarkup)(t,E),document.querySelector(".films").scrollIntoView({behavior:"smooth",block:"start"})}())}l=o("1LQqF"),s=o("8HLHc");const T={container:document.querySelector(".films"),pagination:document.querySelector(".pagination")};let I=1,N=null;function D(e){b(e.target,I)&&(I=b(e.target,I),F(),document.querySelector(".films").scrollIntoView({behavior:"smooth",block:"start"}))}async function F(){N=await(await(0,i.getMovies)("trending/movie/day",I)).data,T.container.innerHTML=r(N.results),(0,l.makeGenres)(".films__genre"),(0,s.makeYears)(".films__date")}const Q=document.querySelector(".submit-btn");var G,Y=/^\s+|\s+$/g,z=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,U=/^0o[0-7]+$/i,W=parseInt,B="object"==typeof t&&t&&t.Object===Object&&t,K="object"==typeof self&&self&&self.Object===Object&&self,R=B||K||Function("return this")(),V=Object.prototype.toString,J=Math.max,X=Math.min,Z=function(){return R.Date.now()};function ee(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function te(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==V.call(e)}(e))return NaN;if(ee(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ee(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Y,"");var n=A.test(e);return n||U.test(e)?W(e.slice(2),n?2:8):z.test(e)?NaN:+e}G=function(e,t,n){var a,o,i,r,l,s,c=0,u=!1,p=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=a,i=o;return a=o=void 0,c=t,r=e.apply(i,n)}function m(e){return c=e,l=setTimeout(h,t),u?f(e):r}function g(e){var n=e-s;return void 0===s||n>=t||n<0||p&&e-c>=i}function h(){var e=Z();if(g(e))return y(e);l=setTimeout(h,function(e){var n=t-(e-s);return p?X(n,i-(e-c)):n}(e))}function y(e){return l=void 0,d&&a?f(e):(a=o=void 0,r)}function v(){var e=Z(),n=g(e);if(a=arguments,o=this,s=e,n){if(void 0===l)return m(s);if(p)return l=setTimeout(h,t),f(s)}return void 0===l&&(l=setTimeout(h,t)),r}return t=te(t)||0,ee(n)&&(u=!!n.leading,i=(p="maxWait"in n)?J(te(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),v.cancel=function(){void 0!==l&&clearTimeout(l),c=0,a=s=o=l=void 0},v.flush=function(){return void 0===l?r:y(Z())},v};var ne=o("j7N2m");i=o("6EpDH");$(".carousel").slick({dots:!0,arrows:!1,speed:1e3,easing:"ease",autoplay:!0,autoplaySpeed:5e3,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0});const ae={searchForm:document.querySelector("#search-form"),searchInput:document.querySelector('[name="searchQuery"]'),films:document.querySelector(".films")};!async function(){const e=await(await(0,i.getMovies)("genre/movie/list")).data.genres;localStorage.setItem("genres",JSON.stringify(e))}(),screen.width<768?async function(){await f(),u.observe(c.guard)}():async function(){q(),await F(),N.total_pages>1&&(y({current:1,pages:N.total_pages}),T.pagination.removeEventListener("click",C),T.pagination.addEventListener("click",D)),q()}(),ae.searchInput.addEventListener("input",e(G)((function(){this.value.trim()?Q.disabled=!1:Q.disabled=!0}),300)),ae.searchForm.addEventListener("submit",(async function(t){t.preventDefault(),u.unobserve(document.querySelector(".guard")),H=t.currentTarget.elements.searchQuery.value,x(H),M.container.innerHTML="",M.searchInput.value="",M.searchBtn.disabled=!0,E=1;try{q();const t=await(0,i.getMovies)(j,E,H),n=await t.data.results;if((0,v.createMarkup)(n,E),!n.length)return M.pagination.classList.add("visual-hidden"),q(),e(S).Notify.failure("Search result not successful. Enter the correct movie name and try againe.");e(S).Notify.success(`Hooray! We found ${t.data.total_results} movies.`),t.data.total_pages>1?(P=t.data.total_pages,screen.width<768?O(P):(y({current:1,pages:P}),M.pagination.removeEventListener("click",D),M.pagination.addEventListener("click",C))):M.pagination.classList.add("visual-hidden"),q()}catch(t){e(S).Notify.failure(`Something is wrong. ${t.message}`)}})),ae.films.addEventListener("click",ne.onMovieCardClick)}();
//# sourceMappingURL=index.2ee3b664.js.map
